
<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>

    <link rel="canonical" href="https://codepen.io/codewithJahid/pen/ObegKN">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
  <link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>
<link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.0/bootstrap-table.min.css'>
<link rel='stylesheet' href='//rawgit.com/vitalets/x-editable/master/dist/bootstrap3-editable/css/bootstrap-editable.css'>
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">


    <style>
		ul {
		  list-style-type: none;
		  margin: 0;
		  top: 0px;
		  position: sticky;
		  z-index: 9999999;
		  padding: 5px 20px;
		  overflow: hidden;
		  background-color: black;
		}
		
		li {
		  float: left;
		}
		
		li a {
		  display: block;
		  color: white;
		  text-align: center;
		  padding: 14px 16px;
		  text-decoration: none;
		}
		
		</style>
	
		<ul>
            <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cabin&family=Poppins:wght@600&family=Raleway&display=swap" rel="stylesheet">

		  <li><a class="active" href="https://youpass.app" style="font-family: 'Raleway', sans-serif;font-size: 15px; user-select: none; text-decoration: none;">Complaint Management System</a></li>
		  <!-- <svg xmlns="http://www.w3.org/2000/svg" width="57" height="20" fill="none"><path fill="#FFF" d="M8 17.4c2.6 0 4.7-2 4.7-5.1V.3h2.9v19.4h-2.9v-1.8a7 7 0 01-5 2.1c-4.2 0-7.4-3-7.4-7.6V.4h3v11.9c0 3 2 5.1 4.6 5.1zM17.7.3h2.8v7a7 7 0 015-2c4 0 7.3 3.3 7.3 7.4 0 4-3.2 7.3-7.4 7.3a7 7 0 01-5-2.1v1.8h-2.7V.3zm7.6 17.2c2.6 0 4.8-2.1 4.8-4.9 0-2.7-2.2-4.8-4.8-4.8a4.8 4.8 0 00-4.9 4.8c0 2.8 2.2 5 4.9 5zM41.1 5.3c4 0 7 3.1 7 7.3v1H36.7c.4 2.2 2.3 4 4.7 4 1.6 0 3-.7 4-2.1l2 1.5a7.3 7.3 0 01-6 3 7.3 7.3 0 01-7.5-7.4c0-4 3.1-7.3 7.2-7.3zm-4.3 6h8.5a4.4 4.4 0 00-4.2-3.6c-2.1 0-3.8 1.5-4.3 3.6zM55.6 8c-1.8 0-3.2 1.5-3.2 3.7v8h-2.7V5.6h2.7v1.7a3.7 3.7 0 013.4-1.8h1V8h-1.2z"></path></svg> -->
		</ul>



        <div id="backdrop">
            <div class="text-center loading">
                <div class="spinner-border" role="status">
                    <i class="fa-solid fa-spinner fa-spin-pulse" style="color: #000000; font-size: 30px;"></i>
                </div>
            </div>
          </div>

<style>
    .text-center {
    width: 100%;
    position: relative;
    height: 100%;
}

.spinner-border {
    display: block;
    position: fixed;
    top: calc(50% - (58px / 2));  
    right: calc(50% - (58px / 2));
    color: red;
}
    #backdrop {
        visibility: hidden;
  position:absolute;
  top:0;
  width: 100vw;
  height: 100vh;
  z-index: 999;
  background-color: rgb(0,0,0,0.2);
}
    </style>






  <div class="container">


    
<div style="text-align: right; margin-top: 50px;">
<button type="button"  id="update" class="btn btn-primary" style="background-color: black; padding: 5px 20px; border-radius: 35px; color: white;">Update</button>
<button class="btn btn-primary" type="button" id="loading" disabled style="background-color: grey; color: white; padding: 5px 20px; border-radius: 35px; cursor:progress;">
    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    Loading...
  </button>
</div>
  




<table id="table" 
			 data-toggle="table"
			 data-search="true"
			 data-filter-control="true" 
			 data-show-export="false"
			 data-click-to-select="true"
			 data-toolbar="#toolbar"
       class="table-responsive">
	<thead>
		<tr>
		
			<th data-field="prenom" data-filter-control="input" data-sortable="true">Sender</th>
			
			<th data-field="examen" data-filter-control="input" data-sortable="true">Subject</th>
            <th data-field="date" data-sortable="true">Time received</th>
			<th data-field="note" data-filter-control="input" data-sortable="true">Receiver</th>
		</tr>
	</thead>
	<tbody>

        {% for email in data %}

		<tr>
		
			<td>{{ email.sender }}</td>
			<td>{{ email.subject }}</td>
			<td>{{ email.time }}</td>
			<td>{{ email.receiver }}</td>
		</tr>

        {% endfor %}

        
	</tbody>
</table>
</div>
  <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.0/bootstrap-table.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.1/extensions/editable/bootstrap-table-editable.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.1/extensions/export/bootstrap-table-export.js'></script>
<script src='//rawgit.com/hhurz/tableExport.jquery.plugin/master/tableExport.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.1/extensions/filter-control/bootstrap-table-filter-control.js'></script>
      <script id="rendered-js" >
//exporte les données sélectionnées
var $table = $('#table');
$(function () {
  $('#toolbar').find('select').change(function () {
    $table.bootstrapTable('refreshOptions', {
      exportDataType: $(this).val() });

  });
});

var trBoldBlue = $("table");

$(trBoldBlue).on("click", "tr", function () {
  $(this).toggleClass("bold-blue");
});
//# sourceURL=pen.js
    </script>

  
</body>
<script>
    var csrftoken = '{{ csrf_token }}'
    $("#loading").hide();
   document.getElementById('update').onclick = () => {

       $("#update").hide();
       $("#loading").show();
       $("#backdrop").css("visibility", "visible");

       const requestObj = new XMLHttpRequest()
       requestObj.onreadystatechange = function () {
           if (this.readyState == 4 && this.status == 200) {
               $("#update").show();
               $("#loading").hide();
               location.reload();
               const responseJson = JSON.parse(this.responseText); 
               const twoDimList = responseJson.data;
               // console.log(responseJson);
               // console.log(twoDimList);

           }
       }

       requestObj.open("GET", '/fetch')
       requestObj.send()
   }
</script>
</html>
